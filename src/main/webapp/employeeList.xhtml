<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
<ui:composition template="/template.xhtml">
   <ui:define name="header">
      <nav class="navbar bg-body-tertiary">
         <h1>Employee Affectation</h1>
         <div class="justify-content-center">
            <a href="affectation.xhtml">Assign</a> | <a href="welcome.xhtml">Back to Home</a>
         </div>
      </nav>
   </ui:define>

   <ui:define name="content">
      <br/><br/>
      <div class="row justify-content-center">
         <div class="col-md-10">
            <h:form id="employeeForm">
               <h:dataTable value="#{employeeBean.employees}" var="employee"
                            styleClass="table table-striped table-bordered table-hover" headerClass="text-center" rowClasses="odd-row, even-row">
                  <h:column>
                     <f:facet name="header">ID</f:facet>
                     <h:outputText value="#{employee.id}"/>
                  </h:column>
                  <h:column>
                     <f:facet name="header">Email</f:facet>
                     <h:outputText value="#{employee.email}"/>
                  </h:column>
                  <h:column>
                     <f:facet name="header">Skills</f:facet>
                     <h:outputText value="#{employee.skills}" />
                  </h:column>
                  <h:column>
                     <f:facet name="header">Projects</f:facet>
                     <h:outputText value="#{employee.projectsAsString()}"/>
                  </h:column>
                  <h:column>
                     <f:facet name="header">Action</f:facet>
                     <h:commandButton value="Remove" action="#{employeeBean.deleteEmployee(employee)}"  styleClass="btn btn-outline-success"/>
                  </h:column>
               </h:dataTable>
            </h:form>
         </div>
      </div>
   </ui:define>
</ui:composition>
</html>
